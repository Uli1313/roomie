import{a as s}from"./bootstrap.min-f14bc68a.js";const m="https://roomie-lfta.onrender.com",h=localStorage.getItem("userId"),u=localStorage.getItem("token"),f={headers:{Authorization:`Bearer ${u}`}};let l;const c=document.querySelectorAll(".nav-logged"),a=document.querySelectorAll(".nav-unlogged"),w=document.querySelectorAll(".nav-logged-photo");(async()=>{try{const e=`/600/users/${h}`,t=`${m}${e}`,r=await s.get(t,f),g=r.data.photo;w.forEach(o=>o.setAttribute("src",g)),l=r.data,p(),c.forEach(o=>{o.classList.remove("d-none")}),a.forEach(o=>{o.classList.add("d-none")}),console.log("已登入")}catch(e){console.log(e),c.forEach(t=>{t.classList.add("d-none")}),a.forEach(t=>{t.classList.remove("d-none")}),console.log("未登入")}})();function p(){localStorage.setItem("user",JSON.stringify(l))}const d="https://roomie-lfta.onrender.com";let n,i;const L=document.querySelector(".news-title"),S=document.querySelector(".news-date"),y=document.querySelector(".news-content"),$=document.querySelector(".more-news"),v=new URL(window.location.href),U=v.searchParams.get("id");s.get(`${d}/news/${U}`).then(e=>{n=e.data,q()}).catch(e=>{console.log(e)});function q(){L.innerHTML=n.title,S.innerHTML=n.date,y.innerHTML=n.content}s.get(`${d}/news?_sort=date&_order=desc`).then(e=>{i=e.data,E()}).catch(e=>{console.log(e)});function E(){let e="";i.slice(0,3).forEach(t=>{e+=`<li class="position-relative border-bottom py-4">
    <p class="fs-md-5">${t.title}</p>
    <p class="me-5 text-light-400 fs-7 fs-md-6">${t.date}</p>
    <a href="news_single.html?id=${t.id}" class="stretched-link d-block"></a>
  </li>`}),$.innerHTML=e}
