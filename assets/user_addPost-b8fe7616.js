import{a as s,S as c}from"./bootstrap.min-ee9b3e4d.js";const m="https://roomie-lfta.onrender.com",g=localStorage.getItem("userId"),f=localStorage.getItem("token"),h={headers:{Authorization:`Bearer ${f}`}};let u;const l=document.querySelectorAll(".nav-logged"),i=document.querySelectorAll(".nav-unlogged"),S=document.querySelectorAll(".nav-logged-photo"),y=document.querySelector(".logout-btn");(async()=>{try{const e=`/600/users/${g}`,t=`${m}${e}`,a=await s.get(t,h),o=a.data.photo;S.forEach(n=>n.setAttribute("src",o)),u=a.data,p(),l.forEach(n=>{n.classList.remove("d-none")}),i.forEach(n=>{n.classList.add("d-none")})}catch(e){console.log(e),l.forEach(t=>{t.classList.add("d-none")}),i.forEach(t=>{t.classList.remove("d-none")})}})();function p(){localStorage.setItem("user",JSON.stringify(u))}y.addEventListener("click",q);function q(){c.fire({icon:"question",title:"確定要登出嗎",showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消"}).then(e=>{e.isConfirmed&&(localStorage.removeItem("userId"),localStorage.removeItem("token"),localStorage.removeItem("user"),c.fire({icon:"success",title:"已登出",timer:1500,showConfirmButton:!1}),setTimeout(()=>{location.href="login.html"},1e3))})}const d=document.querySelector("#cityRegion"),v=document.querySelector("#districtRegion");document.querySelector("#pathRegion");document.querySelector("#laneRegion");document.querySelector("#alleyRegion");document.querySelector("#numberRegion");document.querySelector("#floors");document.querySelectorAll(".housingType");document.querySelector("#articleTitle");document.querySelector("#sizeofHouse");document.querySelector("#layoutofHouse");document.querySelectorAll(".equipmentItem");let r;s.get("https://gist.githubusercontent.com/abc873693/2804e64324eaaf26515281710e1792df/raw/a1e1fc17d04b47c564bbd9dba0d59a6a325ec7c1/taiwan_districts.json").then(function(e){r=e.data.map(function(o){return{name:o.name,districts:o.districts.map(function(n){return n.name})}}).filter(o=>o.name!=="釣魚臺"&&o.name!=="南海島"),L()});function L(){let e='<option value="縣市">縣市</option>';r.forEach(t=>{e+=`<option  value="${t.name}">${t.name}</option>`}),d.innerHTML=e}d.addEventListener("change",e=>{b(e.target.value)});function b(e){let t='<option value="行政區">行政區</option>';r.forEach(a=>{a.name===e&&a.districts.forEach(o=>{t+=`<option  value="${o}">${o}</option>`})}),v.innerHTML=t}
